# RC LED 제어 시스템

RC 송신기 신호를 통해 LED를 제어하는 간결한 아두이노 시스템입니다.

## 개요

이 프로젝트는 RC 송신기를 통해 여러 LED 기능을 제어할 수 있게 합니다:
- 전원 켜기/끄기 토글 (채널 9)
- 밝기 조절 (채널 3)
- RGB 색상 선택 (채널 5)

## 하드웨어 요구사항

- 아두이노 보드
- 최소 3개 채널이 있는 RC 수신기
- LED:
  - 단일 전원 켜기/끄기 LED
  - 밝기 제어 LED
  - RGB LED 또는 별도의 R/G/B LED
- LED용 저항
- 점퍼 와이어

## 의존성

- [TaskScheduler](https://github.com/arkhipenko/TaskScheduler)
- [PinChangeInterrupt](https://github.com/NicoHood/PinChangeInterrupt)

아두이노 라이브러리 매니저를 통해 설치하거나 수동으로 다운로드하세요.

## 핀 연결

| 구성 요소 | 아두이노 핀 |
|-----------|-------------|
| RC 채널 3 (밝기) | D2 |
| RC 채널 5 (RGB) | D3 |
| RC 채널 9 (전원) | D4 |
| 전원 LED | D5 |
| 밝기 LED | D6 (PWM) |
| RGB 파란색 | D7 |
| RGB 초록색 | D8 |
| RGB 빨간색 | D9 |

## 기능

- **RGB 색상 제어**: 스틱 아래 = 빨간색, 중앙 = 초록색, 위 = 파란색
- **밝기 제어**: 스틱 위치에 비례
- **전원 토글**: 메인 LED를 켜거나 끔
- **논블로킹 작동**: 인터럽트 및 태스크 스케줄링 사용
- **디버그 출력**: 시리얼 모니터에 RC 신호 값 표시

## 사용법

1. 핀 구성에 따라 하드웨어 연결
2. 아두이노에 코드 업로드
3. 시리얼 모니터 열기 (9600 보드레이트)로 디버그 정보 확인
4. RC 송신기로 제어:
   - CH3 스틱을 움직여 밝기 조절
   - CH5 스틱을 움직여 RGB 색상 변경
   - CH9 토글로 시스템 켜기/끄기

## 사용자 정의

필요에 따라 다음 매개변수를 조정하세요:

```cpp
#define PULSE_CENTER 1500    // RC 신호의 중심폭
#define PULSE_THRESHOLD 200  // 중심 주변 밴드 여유 폭
#define MIN_PULSE 1050       // 예상되는 최소 펄스 폭
#define MAX_PULSE 1950       // 예상되는 최대 펄스 폭
```

## 문제 해결

- **불규칙한 동작**: RC 신호 품질 및 배터리 전압 확인
- **응답이 없는 채널**: 핀 연결 및 인터럽트 설정 확인
- **LED가 작동하지 않음**: 극성 및 저항 값 확인
- **시스템 멈춤**: TaskScheduler가 올바르게 초기화되었는지 확인